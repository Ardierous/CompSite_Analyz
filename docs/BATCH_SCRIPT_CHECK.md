# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ push_dockerhub.bat

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-12-27

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ push_dockerhub.bat

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞

```batch
@echo off
chcp 65001 >nul
echo ============================================================
echo üöÄ –ü—É–±–ª–∏–∫–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞ –Ω–∞ Docker Hub
echo ============================================================
echo.

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Python
python --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞.
    pause
    exit /b 1
)

REM –ó–∞–ø—É—Å–∫ Python —Å–∫—Ä–∏–ø—Ç–∞ –∏–∑ –ø–∞–ø–∫–∏ scripts
cd /d "%~dp0"
python push_to_dockerhub.py

pause
```

### –ê–Ω–∞–ª–∏–∑ –∫–æ–º–∞–Ω–¥

1. **`cd /d "%~dp0"`**
   - ‚úÖ `%~dp0` - –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è bat-—Ñ–∞–π–ª
   - ‚úÖ `/d` - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –¥–∏—Å–∫, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `scripts/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

2. **`python push_to_dockerhub.py`**
   - ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç Python —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`scripts/`)
   - ‚úÖ –°–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ push_to_dockerhub.py

### –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

```python
# –ò–∑–º–µ–Ω—è–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ scripts/)
PROJECT_ROOT = Path(__file__).parent.parent
os.chdir(PROJECT_ROOT)
```

- ‚úÖ `Path(__file__).parent` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∫—Ä–∏–ø—Ç (`scripts/`)
- ‚úÖ `.parent` - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- ‚úÖ `os.chdir(PROJECT_ROOT)` - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

### –ö–æ–º–∞–Ω–¥–∞ —Å–±–æ—Ä–∫–∏ Docker

```python
build_cmd = f"docker build -t {image_name} -t {image_name_latest} ."
```

- ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ `PROJECT_ROOT` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- ‚úÖ –¢–æ—á–∫–∞ (`.`) –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- ‚úÖ Dockerfile –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥

```python
def run_command(cmd, check=True):
    result = subprocess.run(
        cmd,
        shell=True,
        check=check,
        capture_output=False,
        cwd=PROJECT_ROOT  # ‚úÖ –í—Å–µ–≥–¥–∞ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
    )
```

- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å `cwd=PROJECT_ROOT`
- ‚úÖ –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–∏ –∫ Dockerfile

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Company/
‚îú‚îÄ‚îÄ Dockerfile          # ‚úÖ –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt    # ‚úÖ –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ main.py            # ‚úÖ –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ push_dockerhub.bat
    ‚îî‚îÄ‚îÄ push_to_dockerhub.py
```

### –ö–æ–º–∞–Ω–¥–∞ docker build

```bash
docker build -t {image_name} -t {image_name_latest} .
```

- ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (`PROJECT_ROOT`)
- ‚úÖ –¢–æ—á–∫–∞ (`.`) —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- ‚úÖ Dockerfile –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `COPY . .` –≤ Dockerfile

## ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç:** `push_dockerhub.bat` (–∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
2. **Bat-—Ñ–∞–π–ª:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Python
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `scripts/` (`cd /d "%~dp0"`)
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç `python push_to_dockerhub.py`
3. **Python —Å–∫—Ä–∏–ø—Ç:**
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞: `Path(__file__).parent.parent` ‚Üí `Company/`
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∫–æ—Ä–µ–Ω—å: `os.chdir(PROJECT_ROOT)`
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
4. **Docker build:**
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Dockerfile` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
   - –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (—á–µ—Ä–µ–∑ `.dockerignore`)

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

- ‚úÖ Bat-—Ñ–∞–π–ª –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `scripts/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- ‚úÖ Python —Å–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `scripts/`
- ‚úÖ Python —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Docker build –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Dockerfile –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

- ‚ö†Ô∏è –ï—Å–ª–∏ bat-—Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ –∏–∑ `scripts/`, –Ω–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, —Ç–∞–∫ –∫–∞–∫ `%~dp0` –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é bat-—Ñ–∞–π–ª–∞
- ‚ö†Ô∏è –ï—Å–ª–∏ Python —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω, –Ω–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, —Ç–∞–∫ –∫–∞–∫ `Path(__file__)` –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

## ‚úÖ –í—ã–≤–æ–¥

**–§–∞–π–ª `push_dockerhub.bat` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏:**

- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç Python —Å–∫—Ä–∏–ø—Ç
- ‚úÖ Python —Å–∫—Ä–∏–ø—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Docker build –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ –∏ –∫–æ–º–∞–Ω–¥—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –§–∞–π–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

